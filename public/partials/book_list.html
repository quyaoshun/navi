<content ng-controller="BookListCtrl">
    <ul class="nav nav-tabs">
        <li>
            <button class="btn btn-primary" data-toggle="modal" data-target="#book-add"><strong>添加</strong>
            </button>
        </li>
        <li>
            <p>共有图书：{{ books.length }} 本</p>
        </li>
        <li>查找：
            <input type="search" ng-model="query" />
            <p>查找图书：{{ query }}</p>
        </li>
        <li>排序：
            <select ng-model="orderProp">
                <option value="title">书名</option>
                <option value="releaseDate">出版日期</option>
            </select>
            {{ orderProp }}
            <p>查找图书：{{ query }}</p>
        </li>
    </ul>
    <ul id="book-table">
        <li ng-repeat="book in books | filter: query | orderBy: orderProp" class="thumbnail book-listing">
            <span class="badge">{{ $index + 1}}</span>
            <a href="#/books/{{ book._id }}" class="thumb">
                <img ng-src="{{ book.imgUrl }}" />
            </a>
            <a href="#/books/{{ book._id }}">{{ book.title }}</a>
            <span>{{ book.desc }}</span>
            <span>{{ book.author }}</span>
            <span>{{ book.press }}</span>
            <span ng-repeat="tag in book.tags" class="label label-info">{{ tag }}</span>
            <span>{{ book.releaseDate }}</span>
            <div class="btn-group">
                <button type="button" class="btn btn-primary btn-sm book-update" data-toggle="modal" data-target="#addBook" data-bookid="{{ book._id }}"><strong>修改</strong>
                </button>
                <button type="button" class="btn btn-danger btn-sm book-remove" data-bookid="{{ book._id }}">删除</button>
            </div>
        </li>
    </ul>
    <!-- {{ books | json }} -->
</content>

<div class="modal fade" id="book-add" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="modal-label">添加书单</h4>
            </div>
            <div class="modal-body">
                <div class="form-horizontal" role="form">
                    <div class="form-group">
                        <label for="book-title" class="col-sm-2 control-label">书名</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="book-title" placeholder="Book Name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="book-desc" class="col-sm-2 control-label">描述</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="book-desc" placeholder="Book Description">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="book-author" class="col-sm-2 control-label">作者</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="book-author" placeholder="Book Author">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="book-press" class="col-sm-2 control-label">出版社</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="book-press" placeholder="Book Press">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="book-releasedate" class="col-sm-2 control-label">出版日期</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="book-releasedate" placeholder="Book Release Date">
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="book-submit" class="btn btn-primary">提交</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
